V 14
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
PANEL,-1 -1 1100 134 N "white" 0
E E E E E 1 -1 -1 0  12.03125 7.202332782745302
""0  1
E "#uses \"classes/examples/MapsDemo\"

MapsDemo myMap;

string convertName(string input)
{
  if ( input == \"\" )
    return \"\";

  strreplace(input, \" \", \"\");  // remove spaces
  string output = uniStrToLower(input[0]);  // convert first character into lower case

  for (int i = 1; i <= strlen(input); ++i)
    output += input[i];

  return output;
}
" 0
 3
"CBRef" "1"
"EClose" E
"dpi" "96"
0 0 0
""
DISPLAY_LAYER, 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
LAYER, 0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
20 1
"IF1"
"WF"
1 30 31 E E E 1 E 1 E N "_3DText" E N "_Transparent" E E
 E E
0 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

2
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10004 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10000 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10027 30 Noto Sans,-1,16,5,50,0,0,0,0,0
0  28 29 172 115
4
T 
4
LANG:10001 10 Crosshairs
LANG:10004 12 十字准线
LANG:10000 10 Crosshairs
LANG:10027 10 Crosshairs

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 8 Scalebar
LANG:10004 9 范围栏
LANG:10000 8 Scalebar
LANG:10027 8 Scalebar

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 5 Stars
LANG:10004 6 开始
LANG:10000 5 Stars
LANG:10027 5 Stars

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 10 Atmosphere
LANG:10004 10 Atmosphere
LANG:10000 10 Atmosphere
LANG:10027 10 Atmosphere

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
0
"main()
{
  this.styleSheet(\"QWidget{color: black;}\");
  for (int i = 1; i < this.itemCount(); ++i)
     this.state(i, myMap.getMapPlugin(uniStrToLower(this.text(i)))[\"enabled\"]);
}
" 0
"main(int button, int state)
{
  myMap.setMapPlugin(uniStrToLower(this.text(button)), (bool)state);
}" 0
30 2
"FRAME1"
""
1 320 11 E E E 1 E 1 E N "_WindowText" E N {0,0,0} E E
 E E
1 0 0 0 0 0
E E E
1
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 3 2 1 E 2.270404411764706 0 0.8107225987735215 -712.4981617647056 -3.715615803763435 0 E 320 11 491 161
4
LANG:10001 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10004 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10000 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10027 30 Noto Sans,-1,16,5,50,0,0,0,0,0
0 4
LANG:10001 9 Interface
LANG:10004 6 界面
LANG:10000 9 Interface
LANG:10027 9 Interface
20 3
"IF2"
"WF"
1 196.0078125 31 E E E 1 E 1 E N "_3DText" E N "_Transparent" E E
 E E
2 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

2
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10004 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10000 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10027 30 Noto Sans,-1,16,5,50,0,0,0,0,0
0  194.0078125 29 382 116
4
T 
4
LANG:10001 18 Animations Enabled
LANG:10004 12 激活动画
LANG:10000 18 Animations Enabled
LANG:10027 18 Animations Enabled

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 16 Show Sun Shading
LANG:10004 12 显示遮阳
LANG:10000 16 Show Sun Shading
LANG:10027 16 Show Sun Shading

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 15 Show Navigation
LANG:10004 12 显示浏览
LANG:10000 15 Show Navigation
LANG:10027 15 Show Navigation

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 9 Show Grid
LANG:10004 12 显示网格
LANG:10000 9 Show Grid
LANG:10027 9 Show Grid

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
0
"main()
{
  this.styleSheet(\"QWidget{color: black;}\");
   for (int i = 0; i < this.itemCount(); ++i)
     this.state(i, myMap.getMapProperty(convertName(this.text(i))));
}" 0
"main(int button, int state)
{
  myMap.setMapProperty(convertName(this.text(button)), (bool)state);
}" 0
22 4
"MapCombo"
"WF"
1 418 57 E E E 1 E 1 E N "_WindowText" E N "_Window" E E
 E E
3 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

1
"layoutAlignment" "AlignNone"
4
LANG:10001 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10004 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10000 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10027 30 Noto Sans,-1,16,5,50,0,0,0,0,0
0  416 49 662 83
0

"main()
{
  dyn_string allThemes = MapsDemo::getMapThemeIds();

  shape mapShape;
  while ( !mapShape )
    mapShape = myMap.getMapShape();

  int counter = 0;
  for (int i = 1; i <= dynlen(allThemes); i++)
  {
    mapping props = MapsDemo::getMapThemeProperties(allThemes[i]);
    ++counter;

    if ( mappingHasKey(props, \"visible\") && (props[\"visible\"] == \"true\") && (props[\"theme\"] != \"empty\") )
      myMap.visibleMapThemeIds[counter] = allThemes[i];
    else
      --counter;
  }

  // Init comboBox here AFTER all defintions have been loaded
  int startIndex = 1;
  dyn_string visibleMapSorted = myMap.visibleMapThemeIds;
  dynClear(myMap.visibleMapThemeIds);
  dynClear(allThemes);

  for (int i = 1; i <= dynlen(visibleMapSorted); i++)
  {
    mapping props = MapsDemo::getMapThemeProperties(visibleMapSorted[i]);
    dynAppend(allThemes, props[\"name\"]);

    if ( visibleMapSorted[i] == mapShape.mapThemeId )
    {
      startIndex = i;
      MapCombo.appendItem(props[\"name\"]);
      dynAppend(myMap.visibleMapThemeIds, visibleMapSorted[i]);
    }
  }

  // Resorting procedure - actual Map theme is always 1st
  for (int i = 1; i <= dynlen(allThemes); i++)
  {
    if ( i == startIndex )
      continue;

    MapCombo.appendItem(allThemes[i]);
    dynAppend(myMap.visibleMapThemeIds, visibleMapSorted[i]);
  }
}
" 0

"main()
{
  MapsDemo::selectMap(this.selectedPos, true);

  for (int i = 0; i < IF2.itemCount(); ++i)
     IF2.state(i, myMap.getMapProperty(convertName(IF2.text(i))));
}
" 0

E
 0 0
29 5
"Label1"
""
1 418 17 E E E 1 E 1 E N "_3DText" E N "_Transparent" E E
 E E
4 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"text" "string Map type:"
"frameShape" "enum 0"
"layoutAlignment" "AlignNone"
4
LANG:10001 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10004 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10000 30 Noto Sans,-1,16,5,50,0,0,0,0,0
LANG:10027 30 Noto Sans,-1,16,5,50,0,0,0,0,0
0  418 17 538 37
5 Label
0
E0
LAYER, 1 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 2 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 3 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 4 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 5 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 6 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 7 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
0
