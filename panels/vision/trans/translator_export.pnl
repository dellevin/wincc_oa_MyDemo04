V 14
4
LANG:10001 6 Export
LANG:10004 6 导出
LANG:10000 6 Export
LANG:10027 14 Экспорт
PANEL,-1 -1 763 583 N "_3DFace" 0
"#uses \"ConvertDict\"
main()
{
  if(!globalExists(\"gRefreshDictionary\"))
  {
    addGlobal(\"gRefreshDictionary\",BOOL_VAR);
    gRefreshDictionary = false;
  }
  if ( access(PROJ_PATH + \"data/trans/dictionary.txt\",R_OK) != 0 )
  {
    optDictUpdate.number = 1;
    optDictUpdate.enabled = false;
    chkOverwrite.state(0) = 1;
    chkOverwrite.enabled = false;
  }
  gOldDictUpdate = optDictUpdate.number;
}
" 0
 E E E E 1 -1 -1 0  20 40
""0  1
E "//global vars
dyn_string destLangs;
dyn_string projectCatalogs;
dyn_string projectPanels;
dyn_string versionPanels;
dyn_string versionCatalogs;
bool dpSelected = false;
int gOldDictUpdate;
dyn_string params;
dyn_string selectedLangs;
dyn_string notselectedLangs;

const int OPT_JSON = 1;
const int OPT_UNICODE = 2;
const int OPT_UTF_8 = 3;

string getLangID(string s)
{
  string retValue=\"\";
  int pos=strpos(s,\"(\");

  retValue = substr(s,pos+1,strlen(s)-(pos+1)-1);
  retValue = getGlobalLangId(getLangIdx(retValue));

  return retValue;
}

string getLangName()
{
  string retValue=\"\";
  int pos=strpos(cmbRefLang.text,\"(\");

  retValue = substr(cmbRefLang.text,pos+1,strlen(cmbRefLang.text)-(pos+1)-1);
  return retValue;
}

void openLogFile()
{
  string pathAndName = txtLogFile.text;
  fileEditor(pathAndName, TRUE);
  // delay is needed to give the application time to close the file
  delay(0,600);
}
" 0
 4
"CBRef" "1"
"EClose" E
"dpi" "96"
"sizePolicy" "Expanding Expanding"
2 1 9 9 9 9 1 6
""
NC
DISPLAY_LAYER, 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
LAYER, 0 
4
LANG:10001 6 Layer1
LANG:10004 6 Layer1
LANG:10000 6 Layer1
LANG:10027 6 Layer1
2 0
"lblPvssPath"
""
1 9 9 E E E 1 E 1 E N {78,78,78} E N "_Transparent" E E
 E E
1 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignLeft|AlignLeading"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E U  0 E 11 11 167 27
0 2 0 "0s" 0 0 0 64 0 0  11 11 1
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 18 WinCC OA directory
LANG:10004 15 WinCC OA 路径
LANG:10000 20 WinCC OA Verzeichnis
LANG:10027 29 Директория WinCC OA
2 1
"lblProjectPath"
""
1 386 9 E E E 1 E 1 E N {78,78,78} E N "_Transparent" E E
 E E
2 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignLeft|AlignLeading"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E U  0 E 388 11 514 27
0 2 0 "0s" 0 0 0 64 0 0  388 11 1
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 17 Project directory
LANG:10004 12 项目路径
LANG:10000 19 Projekt Verzeichnis
LANG:10027 35 Директория проекта
30 35
"frmFiles"
""
1 10 340 E E E 1 E 1 E N {51,51,51} E N "_Transparent" E E
 E E
11 0 0 0 0 0
E E E
1
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Expanding Fixed"
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 1.146379044684129 0 1.08284023668639 -2.463790446841294 -34.08284023668632 0 E 10 170 660 340
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 14  Export files 
LANG:10004 12 导出文件
LANG:10000 21  Dateien exportieren 
LANG:10027 32 Экспорт из файлов
30 4
"frmVersionFiles"
""
1 20 330 E E E 1 E 1 E N {51,51,51} E N "_Transparent" E E
 E E
12 0 0 0 0 0
E E E
1
4
LANG:10001 46 Exporting the version files may take some time
LANG:10004 42 导出版本文件可能需要一些时间
LANG:10000 78 Die Exportierung der Version ist sehr aufwendig und kann einige Minuten dauern
LANG:10027 94 Экспорт файлов версии может занять некоторое время

4
"sizePolicy" "Expanding Expanding"
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 1.132686084142395 0 1.028776978417266 3.346278317152101 -17.46762589928052 0 E 20 190 330 330
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 15  Version files 
LANG:10004 12 安装文件
LANG:10000 18  Versions Dateien 
LANG:10027 23 Файлы версии
2 36
"lblLogFile"
""
1 195 454 E E E 1 E 1 E N {78,78,78} E N "_Transparent" E E
 E E
31 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignBottom"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 1 0 0.9999999999999998 -4 -5.999999999999858 0 E 195 454 281 475
0 0 0 "0s" 0 0 0 64 0 0  195 454 1
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 9 Log file:
LANG:10004 6 日志
LANG:10000 15 Protokolldatei:
LANG:10027 13 Журнал:
30 131
"frmLanguages"
""
1 10 160 E E E 1 E 1 E N "_3DText" E N "_Transparent" E E
 E E
5 0 0 0 0 0
E E E
1
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Expanding Fixed"
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 1.146379044684129 0 1.050632911392405 -2.463790446841294 -24.05063291139243 0 E 10 80 660 160
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 18  Language options 
LANG:10004 12 语言选择
LANG:10000 21  Spracheinstellungen 
LANG:10027 27 Языковые опции
2 32
"lblRefLang"
""
1 174.5 117 E E E 1 E 1 E N {0,0,0} E N "_Transparent" E E
 E E
6 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 0.9958158995815901 0 1 -152.7698744769875 -29 0 E 176.5 119 292 134
0 2 0 "0s" 0 0 0 192 0 0  176.5 119 1
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 18 Reference language
LANG:10004 12 参考语言
LANG:10000 15 Referenzsprache
LANG:10027 23 Опорный язык
30 132
"frmOptions"
""
1 10 430 E E E 1 E 1 E N {51,51,51} E N "_Transparent" E E
 E E
25 0 0 0 0 0
E E E
1
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 1.020408163265306 0 0.9240506329113923 180.7959183673469 44.58227848101269 0 E 10 350 550 430
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 16  Export options 
LANG:10004 12 导出选择
LANG:10000 16  Exportoptionen 
LANG:10027 27 Опции экспорта
2 130
"lblDestLangs"
""
1 306.5 154.5 E E E 1 E 1 E N {78,78,78} E N "_Transparent" E E
 E E
8 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 0.9961977186311787 0 0.9743589743589736 79.66539923954375 -62.53846153846141 0 E 308.5 156.5 436 172
0 2 0 "0s" 0 0 0 192 0 0  308.5 156.5 1
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 21 Language(s) to export
LANG:10004 18 要输出的语言
LANG:10000 27 zu exportierende Sprache(n)
LANG:10027 36 Язык(и) для экспорта
30 18
"frmProjectFiles"
""
1 350 330 E E E 1 E 1 E N {51,51,51} E N "_Transparent" E E
 E E
18 0 0 0 0 0
E E E
1
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Expanding Expanding"
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
"main()
{
}" 0
 E 0 1 1 0 1 E 1.170568561872909 0 1.028776978417266 -23.69899665551829 -17.46762589928053 0 E 350 190 650 330
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 15  Project files 
LANG:10004 12 项目文件
LANG:10000 17  Projekt Dateien 
LANG:10027 25 Файлы проекта
30 43
"frmLog"
""
1 10 540 E E E 1 E 1 E N {51,51,51} E N "_Transparent" E E
 E E
29 0 0 0 0 0
E E E
1
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Expanding Fixed"
"layoutAlignment" "AlignNone"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 1.146379044684129 0 1.979797979797981 -2.463790446841294 -531.1111111111118 0 E 10 440 660 540
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 7 Options
LANG:10004 6 选项
LANG:10000 8 Optionen
LANG:10027 18 Настройки
20 124
"chkVersionAll"
""
1 86.5 280.6842105263158 E E E 1 E 1 E N "_3DText" E N "_3DFace" E E
 E E
13 0 0 0 0 0
E E E
0
4
LANG:10001 32 Panels and catalogs from version
LANG:10004 36 安装路径中的画面，多语言
LANG:10000 35 Panels und Kataloge aus der Version
LANG:10027 45 Панели и каталоги версии

4
"minimumSize" "51 21"
"maximumSize" "51 21"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  36 195 90 219
1
T 
4
LANG:10001 3 All
LANG:10004 6 所有
LANG:10000 5 Alles
LANG:10027 6 Все

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
1
E E
E"//select all Version-Files
main(int button, bool state)
{
  if(state)
  {
    txtVersionPanels.text = getCatStr(\"trans\",\"labels_all_panels\");
    txtVersionCatalogs.text = getCatStr(\"trans\",\"labels_all_catalogs\");
  }
  else
  {
    if(dynlen(versionPanels) && (versionPanels[1] == getCatStr(\"trans\",\"all\")))
      txtVersionPanels.text = getCatStr(\"trans\",\"labels_all_panels\");
    else
    {
      if(dynlen(versionPanels))
        txtVersionPanels.text = dynlen(versionPanels) + getCatStr(\"trans\",\"labels_files_dirs\");
      else
        txtVersionPanels.text =\"\";
    }

    if(dynlen(versionCatalogs) && (versionCatalogs[1] == getCatStr(\"trans\",\"all\")))
      txtVersionCatalogs.text = getCatStr(\"trans\",\"labels_all_catalogs\");
    else
    {
      if(dynlen(versionCatalogs))
        txtVersionCatalogs.text = dynlen(versionCatalogs) + getCatStr(\"trans\",\"labels_files_dirs\");
      else
        txtVersionCatalogs.text =\"\";
    }
  }

  cmdSelVersionPanels.enabled = !state;
  cmdSelVersionCatalogs.enabled  = !state;
}
" 0
14 127
"txtVersionPanels"
""
1 38 223 E E E 0 E 1 E N "_WindowText" E N "_Window" E E
 E E
14 0 0 0 0 0
E E E
0
4
LANG:10001 8 Selected
LANG:10004 6 已选
LANG:10000 11 ausgewählt
LANG:10027 14 Выбрано

1
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  36 221 236 246
3 "0s" 0 0 0 0 0 -1  E E E
14 128
"txtVersionCatalogs"
""
1 38 252 E E E 0 E 1 E N "_WindowText" E N "_Window" E E
 E E
16 0 0 0 0 0
E E E
0
4
LANG:10001 8 Selected
LANG:10004 6 已选
LANG:10000 11 ausgewählt
LANG:10027 14 Выбрано

1
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  36 250 236 275
3 "0s" 0 0 0 0 0 -1  E E E
13 138
"cmdSelVersionPanels"
""
1 177 159.0000000000001 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
15 0 0 0 0 0
E E E
0
4
LANG:10001 26 Select panels from version
LANG:10004 24 从版本中选择面板
LANG:10000 40 bestimmte Panels aus der Version wählen
LANG:10027 40 Выбрать панели версии

4
"minimumSize" "121 24"
"maximumSize" "121 24"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  242 221 366 248

T 
4
LANG:10001 17 Select panels ...
LANG:10004 15 选择面板...
LANG:10000 18 Panels wählen ...
LANG:10027 27 Выбрать панели
"//Select Version-Panels-Files
main()
{
  dyn_string dreturns;
  dyn_float dreturnf;
  int size=0;
  int i;

  params[1] = \"*\";
  params[2] = PVSS_PATH + \"panels\";
  params[3] = true;
  params[5] = getCatStr(\"trans\",\"panels\");
  params[6] = \"true\";
  params[4] = \"\";
  if(dynlen(versionPanels))
  {
    for(i=0;i<dynlen(versionPanels);i++)
    {
      if(params[4]!=\"\")
        params[4]+=\",\";

      params[4] += versionPanels[i+1];
    }
  }
  ChildPanelOnCentralModalReturn(\"vision/trans/translator_fileselector.pnl\",getCatStr(\"trans\",\"labels_select_files\"),params,dreturnf, dreturns);

  if(dreturnf[1] == 1)
  {
    dynClear(versionPanels);
    for(i=0;i<dynlen(dreturns);i++)
    {
      versionPanels[i+1] = dreturns[i+1];
    }
    if(dynlen(dreturns))
      txtVersionPanels.text = dynlen(dreturns) + getCatStr(\"trans\",\"labels_files_dirs\");
    else
      txtVersionPanels.text =\"\";
  }
  else if(dreturnf[1] == 2)
  {
    txtVersionPanels.text = getCatStr(\"trans\",\"labels_all_panels\");
    versionPanels[1] = getCatStr(\"trans\",\"all\");
  }
}
" 0
 E E E
20 91
"chkProjectAll"
""
1 398 206 E E E 1 E 1 E N "_3DText" E N "_3DFace" E E
 E E
19 0 0 0 0 0
E E E
0
4
LANG:10001 44 Panels, catalogs and datapoints from project
LANG:10004 35 项目中的画面，多语言，DP
LANG:10000 48 Panels, Kataloge und Datenpunkte aus dem Projekt
LANG:10027 72 Панели, каталоги и точки данных проекта

4
"minimumSize" "51 21"
"maximumSize" "51 21"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  396 204 450 228
1
T 
4
LANG:10001 3 All
LANG:10004 6 所有
LANG:10000 5 Alles
LANG:10027 6 Все

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
1
E E
E"//select all Project-Files
main(int button, bool state)
{
  if(state)
  {
    txtProjectPanels.text = getCatStr(\"trans\",\"labels_all_panels\");
    txtProjectCatalogs.text = getCatStr(\"trans\",\"labels_all_catalogs\");
    chkProjectAllDPs.state(0) = state;
  }
  else
  {
    chkProjectAllDPs.state(0) = dpSelected;

    if(dynlen(projectPanels) && (projectPanels[1] == getCatStr(\"trans\",\"all\")))
      txtProjectPanels.text = getCatStr(\"trans\",\"labels_all_panels\");
    else
    {
      if(dynlen(projectPanels))
        txtProjectPanels.text = dynlen(projectPanels) + getCatStr(\"trans\",\"labels_files_dirs\");
      else
        txtProjectPanels.text =\"\";
    }

    if(dynlen(projectCatalogs) && (projectCatalogs[1] == getCatStr(\"trans\",\"all\")))
      txtProjectCatalogs.text = getCatStr(\"trans\",\"labels_all_catalogs\");
    else
    {
      if(dynlen(projectCatalogs))
        txtProjectCatalogs.text = dynlen(projectCatalogs) + getCatStr(\"trans\",\"labels_files_dirs\");
      else
        txtProjectCatalogs.text =\"\";
    }
  }

  chkProjectAllDPs.enabled = !state;

  cmdSelProjectPanels.enabled = !state;
  cmdSelProjectCatalogs.enabled  = !state;
}
" 0
13 126
"cmdSelVersionCatalogs"
""
1 244 252 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
17 0 0 0 0 0
E E E
0
4
LANG:10001 28 Select catalogs from version
LANG:10004 27 从版本中选择cat文件
LANG:10000 42 bestimmte Kataloge aus der Version wählen
LANG:10027 63 Выбрать каталоги сообщений версии

4
"minimumSize" "121 24"
"maximumSize" "121 24"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  242 250 366 277

T 
4
LANG:10001 19 Select catalogs ...
LANG:10004 15 选择目录...
LANG:10000 20 Kataloge wählen ...
LANG:10027 31 Выбрать каталоги
"//Select Project-Catalog-Files
main()
{
  dyn_string dreturns, dsTemp;
  dyn_float dreturnf;
  int size=0;
  int i;

  params[1] = \"*.cat\";
  if ( _WIN32 )
    params[2] = PVSS_PATH + \"msg/\" + getLangName();
  else
    params[2] = PVSS_PATH + \"msg\";
  params[3] = true;
  params[5] = getCatStr(\"trans\",\"catalogs\");
  params[6] = \"false\";
  params[4] = \"\";

  if(dynlen(versionCatalogs))
  {
    for(i=0;i<dynlen(versionCatalogs);i++)
    {
      if(params[4]!=\"\")
        params[4]+=\",\";
      params[4] += versionCatalogs[i+1];
    }
  }
  ChildPanelOnCentralModalReturn(\"vision/trans/translator_fileselector.pnl\",getCatStr(\"trans\",\"labels_select_files\"),params,dreturnf, dreturns);

  if(dreturnf[1] == 1)
  {
    if(dynlen(dreturns)>0)
    {
      dsTemp = versionCatalogs;
      dynClear(versionCatalogs);
      for(i=1;i<=dynlen(dreturns);i++)
      {
        if (strpos(dreturns[i], PVSS_PATH + \"msg/\" + getLangName()) < 0 )
        {
          ChildPanelOnCentralModal(\"vision/MessageWarning\",
                                   getCatStr(\"para\",\"warning\"),
                                   makeDynString(getCatStr(\"trans\",\"wrong_languagecat\")));
          versionCatalogs = dsTemp;
          return;
        }
        versionCatalogs[i] = dreturns[i];
      }
    }
    else
      dynClear(versionCatalogs);
    if(dynlen(dreturns))
      txtVersionCatalogs.text = dynlen(dreturns) + getCatStr(\"trans\",\"labels_files_dirs\");
    else
      txtVersionCatalogs.text =\"\";
  }
  else if(dreturnf[1] == 2)
  {
    dynClear(versionCatalogs);
    txtVersionCatalogs.text = getCatStr(\"trans\",\"labels_all_catalogs\");
    versionCatalogs[1] = getCatStr(\"trans\",\"all\");
  }
}
" 0
 E E E
14 117
"txtProjectPanels"
""
1 398 232 E E E 0 E 1 E N "_WindowText" E N "_Window" E E
 E E
20 0 0 0 0 0
E E E
0
4
LANG:10001 8 Selected
LANG:10004 6 已选
LANG:10000 11 ausgewählt
LANG:10027 14 Выбрано

1
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  396 230 596 255
3 "0s" 0 0 0 0 0 -1  E E E
13 21
"cmdSelProjectPanels"
""
1 604 232 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
21 0 0 0 0 0
E E E
0
4
LANG:10001 26 Select panels from project
LANG:10004 24 从项目中选择面板
LANG:10000 40 bestimmte Panels aus dem Projekt wählen
LANG:10027 42 Выбрать панели проекта

4
"minimumSize" "121 24"
"maximumSize" "121 24"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  602 230 726 257

T 
4
LANG:10001 17 Select panels ...
LANG:10004 15 选择面板...
LANG:10000 18 Panels wählen ...
LANG:10027 27 Выбрать панели
"//Select Project-Panels-Files
main()
{
  dyn_string dreturns;
  dyn_float dreturnf;
  int size=0;
  int i;

  params[1] = \"*\";
  params[2] = PROJ_PATH + \"panels\";
  params[3] = true;
  params[5] = getCatStr(\"trans\",\"panels\");
  params[6] = \"true\";
  params[4] = \"\";

  //if(dynlen(projectPanels) && (projectPanels[1] != \"alle\"))
  if(dynlen(projectPanels))
  {
    for(i=0;i<dynlen(projectPanels);i++)
    {
      if(params[4]!=\"\")
        params[4]+=\",\";

      params[4] += projectPanels[i+1];
    }
  }
  ChildPanelOnCentralModalReturn(\"vision/trans/translator_fileselector.pnl\",getCatStr(\"trans\",\"labels_select_files\"),params,dreturnf, dreturns);

  if(dreturnf[1] == 1)
  {
    dynClear(projectPanels);
    for(i=0;i<dynlen(dreturns);i++)
    {
      projectPanels[i+1] = dreturns[i+1];
    }
    if(dynlen(dreturns))
      txtProjectPanels.text = dynlen(dreturns) + getCatStr(\"trans\",\"labels_files_dirs\");
    else
      txtProjectPanels.text =\"\";
  }
  else if(dreturnf[1] == 2)
  {
    txtProjectPanels.text = getCatStr(\"trans\",\"labels_all_panels\");
    projectPanels[1] = getCatStr(\"trans\",\"all\");
  }
}
" 0
 E E E
14 118
"txtProjectCatalogs"
""
1 398 261 E E E 0 E 1 E N "_WindowText" E N "_Window" E E
 E E
22 0 0 0 0 0
E E E
0
4
LANG:10001 8 Selected
LANG:10004 6 已选
LANG:10000 11 ausgewählt
LANG:10027 14 Выбрано

1
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  396 259 596 284
3 "0s" 0 0 0 0 0 -1  E E E
13 22
"cmdSelProjectCatalogs"
""
1 604 261 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
23 0 0 0 0 0
E E E
0
4
LANG:10001 28 Select catalogs from project
LANG:10004 24 从项目中选择目录
LANG:10000 42 bestimmte Kataloge aus dem Projekt wählen
LANG:10027 65 Выбрать каталоги сообщений проекта

4
"minimumSize" "121 24"
"maximumSize" "121 24"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  602 259 726 286

T 
4
LANG:10001 19 Select catalogs ...
LANG:10004 15 选择目录...
LANG:10000 20 Kataloge wählen ...
LANG:10027 31 Выбрать каталоги
"//Select Project-Catalog-Files
main()
{
  dyn_string dreturns, dsTemp;
  dyn_float dreturnf;
  int size=0;
  int i;

  params[1] = \"*.cat\";
  if ( _WIN32 )
    params[2] = PROJ_PATH + \"msg/\" + getLangName();
  else
    params[2] = PROJ_PATH + \"msg\";
  params[3] = true;

  params[4] = \"\";

  params[5] = getCatStr(\"trans\",\"catalogs\");
  params[6] = \"false\";
  if(dynlen(projectCatalogs))
  {
    for(i=0;i<dynlen(projectCatalogs);i++)
    {
      if(params[4]!=\"\")
        params[4]+=\",\";
      params[4] += projectCatalogs[i+1];
    }
  }

  ChildPanelOnCentralModalReturn(\"vision/trans/translator_fileselector.pnl\",getCatStr(\"trans\",\"labels_select_files\"),params,dreturnf, dreturns);

  if(dreturnf[1] == 1)
  {
    dynClear(projectCatalogs);
    if(dynlen(dreturns)>0)
    {
      dsTemp = projectCatalogs;
      dynClear(projectCatalogs);
      for(i=1;i<=dynlen(dreturns);i++)
      {
        if (strpos(dreturns[i], PROJ_PATH + \"msg/\" + getLangName()) < 0 )
        {
          ChildPanelOnCentralModal(\"vision/MessageWarning\",
                                   getCatStr(\"para\",\"warning\"),
                                   makeDynString(getCatStr(\"trans\",\"wrong_languagecat\")));
          projectCatalogs = dsTemp;
          return;
        }
        projectCatalogs[i] = dreturns[i];
      }
    }
    if(dynlen(dreturns))
      txtProjectCatalogs.text = dynlen(dreturns) + getCatStr(\"trans\",\"labels_files_dirs\");
    else
      txtProjectCatalogs.text =\"\";
  }
  else if(dreturnf[1] == 2)
  {
    dynClear(projectCatalogs);
    txtProjectCatalogs.text = getCatStr(\"trans\",\"labels_all_catalogs\");
    projectCatalogs[1] = getCatStr(\"trans\",\"all\");
  }
}
" 0
 E E E
20 94
"chkProjectAllDPs"
""
1 398 290 E E E 1 E 1 E N "_3DText" E N "_3DFace" E E
 E E
24 0 0 0 0 0
E E E
0
4
LANG:10001 44 All language depending texts in the database
LANG:10004 42 所有语言依赖于数据库中的文本
LANG:10000 44 Alle sprachabhängigen Text in der Datenbank
LANG:10027 93 Все тексты имеющихся в базе данных языковых версий

1
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  396 288 497 311
1
T 
4
LANG:10001 11 DP-elements
LANG:10004 3 DPE
LANG:10000 11 DP-Elemente
LANG:10027 19 Элементы DP

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
1
E E
E"main(int button, bool state)
{
  dpSelected = state;
}
" 0
19 137
"optDictUpdate"
""
1 199 392 E E E 1 E 1 E N "_3DText" E N "_3DFace" E E
 E E
26 0 0 0 0 0
E E E
0
4
LANG:10001 18 Dictionary Options
LANG:10004 12 字典选项
LANG:10000 25 Eigenschaften Wörterbuch
LANG:10027 25 Опции словаря

2
"sizePolicy" "MinimumExpanding Preferred"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  197 390 468 435
2
T 
4
LANG:10001 18 Refresh dictionary
LANG:10004 12 刷新字典
LANG:10000 25 Wörterbuch aktualisieren
LANG:10027 31 Обновить словарь

1 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 17 Create dictionary
LANG:10004 12 创建字典
LANG:10000 20 Wörterbuch erzeugen
LANG:10027 29 Создать словарь

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
1
E "main(int button)
{
  dyn_float  dreturnf;
  dyn_string dreturns, params;
  
  if(button==1)
  {
    if ( access(PROJ_PATH + \"data/trans/dictionary.txt\",W_OK) == 0 )
    {
      params[1] = getCatStr(\"trans\",\"warning_use_dict\");
      params[2] = getCatStr(\"trans\",\"yes\");
      params[3] = getCatStr(\"trans\",\"no\");
      ChildPanelOnCentralModalReturn(\"vision/MessageInfo\",getCatStr(\"trans\",\"dictionary\"),
                                     params,dreturnf,dreturns);
      if ( !dreturnf[1] )
        this.number = gOldDictUpdate;
    }
  }
  gOldDictUpdate = this.number;
  chkOverwrite.state(0) = (this.number);
  chkOverwrite.enabled  = !(this.number);
}" 0

20 140
"chkOverwrite"
""
1 472 392 E E E 1 E 1 E N "_3DText" E N "_3DFace" E E
 E E
28 0 0 0 0 0
E E E
0
4
LANG:10001 41 existing translations will be overwritten
LANG:10004 39 现有的翻译字典文件会被覆盖
LANG:10000 46 es wird die "neueste" Übersetzung gespeichert
LANG:10027 77 Существующие переводы будут перезаписаны

4
"minimumSize" "-1 21"
"maximumSize" "-1 21"
"sizePolicy" "MinimumExpanding Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  470 390 740 414
1
T 
4
LANG:10001 31 Overwrite existing translations
LANG:10004 18 覆盖现有翻译
LANG:10000 40 Bestehende Übersetzungen überschreiben
LANG:10027 66 Перезаписать существующие переводы

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
1
E E
"main()
{
  if(this.state(0))
    this.toolTipText = getCatStr(\"trans\",\"labels_overwrite_true\");
  else
    this.toolTipText = getCatStr(\"trans\",\"labels_overwrite_false\");
}
" 0
"main(int button, bool state)
{
  dyn_float  dreturnf;
  dyn_string dreturns, params;
  if( state )
  {
    params[1] = getCatStr(\"trans\",\"warning_overwrite\");
    params[2] = getCatStr(\"trans\",\"yes\");
    params[3] = getCatStr(\"trans\",\"no\");
    ChildPanelOnCentralModalReturn(\"vision/MessageInfo\",getCatStr(\"trans\",\"dictionary\"),
                                   params,dreturnf,dreturns);
    if ( !dreturnf[1] )
      this.state(button) = !state;
  }
}" 0
14 37
"txtLogFile"
""
1 191 472 E E E 1 E 1 E N "_WindowText" E N "_3DFace" E E
 E E
32 0 0 0 0 0
E E E
0
4
LANG:10001 40 Logging into WinCC OA log files if empty
LANG:10004 42 如果为空,则登录WinCC OA日志文件
LANG:10000 67 Wenn leer, Protokollierung erfolgt in die WinCC OA-Protokolldateien
LANG:10027 95 Если пусто, протоколирование ведется в журнале WinCC OA

1
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  189 470 743 495
2 "0s" 0 0 0 0 0 -1  E "main()
{
  // IM 106528 mPokorny change Logfile from PVSSTranslator to WCCOATranslator
  this.text = PROJ_PATH + \"log/WCCOATranslator.log\";
}
" 0
 E
14 2
"VersVerz"
""
1 9 30 E E E 0 E 1 E N "_WindowText" E N "_Window" E E
 E E
3 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"minimumSize" "-1 24"
"maximumSize" "-1 24"
"layoutAlignment" "AlignTop"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  7 28 378 55
2 "0s" 0 0 0 0 0 -1  E "//Init
main()
{
  this.text(PVSS_PATH);
}
" 0
 E
14 142
"txtDestLangs"
""
1 298.1619718309859 149 E E E 0 E 1 E N "_WindowText" E N "_Window" E E
 E E
9 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"minimumSize" "-1 24"
"maximumSize" "-1 24"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  383 106 596 133
3 "0s" 0 0 0 0 0 -1  E "main()
{
  txtDestLangs.text = \"0\" + getCatStr(\"trans\",\"labels_langs_selected\");
}
" 0
 E
22 46
"cmbRefLang"
""
1 21 108 E E E 1 E 1 E N "_WindowText" E N "_Window" E E
 E E
7 0 0 0 0 0
E E E
0
4
LANG:10001 18 Reference language
LANG:10004 12 参考语言
LANG:10000 15 Referenzsprache
LANG:10027 23 Опорный язык

3
"minimumSize" "-1 24"
"maximumSize" "-1 24"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  19 106 380 133
0

"//Panel Initialize
main()
{
  int i;
  dyn_string dsTemp;
  for(i = 0; i< getNoOfLangs(); i++)
  {
    dynAppend(dsTemp,getCatStr(\"trans\",getLocale(i)) + \" (\" + getLocale(i) + \")\");
  }

  this.items(dsTemp);
  this.selectedPos(getActiveLang()+1);
}
" 0

"//RefLang Selection
main()
{
  dyn_string fileCheck;

  int i;

  fileCheck = getFileNames(PROJ_PATH + \"msg/\" + getLangName(), \"*.*\");

  cmdSelProjectCatalogs.enabled   = dynlen(fileCheck);

  fileCheck = getFileNames(PROJ_PATH + \"panels/\", \"*.*\");

  cmdSelProjectPanels.enabled   = dynlen(fileCheck);

  fileCheck = getFileNames(PVSS_PATH + \"msg/\" + getLangName(), \"*.*\");

  cmdSelVersionCatalogs.enabled   = dynlen(fileCheck);

  fileCheck = getFileNames(PVSS_PATH + \"panels/\", \"*.*\");

  cmdSelVersionPanels.enabled   = dynlen(fileCheck);

  cmdStart.enabled = ( dynlen(selectedLangs)!=0 );

  if( dynlen(fileCheck) )
    UpdateSelectedCatalogs();

  i = dynContains(selectedLangs,cmbRefLang.text);
  if(i)
  {
    txtDestLangs.text = dynlen(selectedLangs)-1 + getCatStr(\"trans\",\"labels_langs_selected\");
    cmdStart.enabled = FALSE;
  }
  else
    txtDestLangs.text = dynlen(selectedLangs) + getCatStr(\"trans\",\"labels_langs_selected\");
}

void UpdateSelectedCatalogs()
{
  int i=1,j=1;
  string newFileName;
  dyn_string dreturns;
  dyn_float dreturnf;
  file f;


  if(dynlen(projectCatalogs))
  {
    for(i=1;i<=dynlen(projectCatalogs);i++)
    {
      newFileName = getNewFileName(projectCatalogs[i]);
      f = fopen(newFileName,\"r\");
      if(!f)
      {
        params[1] = newFileName + getCatStr(\"trans\",\"return_file_not_found\") + \" - \" + getCatStr(\"trans\",\"question_copy_file\");
        params[2] = getCatStr(\"trans\",\"yes\");
        params[3] = getCatStr(\"trans\",\"no\");
        params[4] = getCatStr(\"trans\",\"cancel\");
        ChildPanelOnCentralModalReturn(\"vision/MessageInfo3\",getCatStr(\"trans\",\"return_file_not_found\"),params,dreturnf,dreturns);

        if(dreturnf[1] == 1)
        {
          copyFile(projectCatalogs[i],newFileName);
          projectCatalogs[j++] = newFileName;
        }
      }
      else
      {
        fclose(f);
        projectCatalogs[j++] = newFileName;
      }
    }
  }
  if(dynlen(versionCatalogs))
  {
    i=1;
    j=1;
    for(i=1;i<=dynlen(versionCatalogs);i++)
    {
      versionCatalogs[i] = getNewFileName(versionCatalogs[i]);
    }
  }
}

string getNewFileName(string oldFileName)
{
  int pos;
  string help,fileName;
  help = oldFileName;

  if(oldFileName != \"\")
  {
    pos = strpos(help,\"msg/\");

    if(pos>-1)
    {
      pos+=4;
      fileName = substr(help,pos);
      fileName = substr(fileName,strpos(fileName,\"/\"));
      help = substr(help,0,pos);
      help += getISO(cmbRefLang.text);
      help += fileName;
      return help;
    }
  }
  return \"\";
}

string getISO(string lang)
{
  return substr(lang,strpos(lang,\"(\")+1,strlen(lang)-strpos(lang,\"(\")-2);
}
" 0

E
 0 0
13 54
"cmdDestLangs"
""
1 640.7014925373135 75.00000000000007 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
10 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"minimumSize" "141 24"
"maximumSize" "141 24"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  599 106 743 133

T 
4
LANG:10001 22 Select language(s) ...
LANG:10004 15 选择语言...
LANG:10000 18 Sprache(n) wählen
LANG:10027 31 Выбрать язык(и) ...
"//Language Selection
main()
{
  dyn_string dreturns;
  dyn_float dreturnf;
  int i;

  params[1] = cmbRefLang.text;
  params[2] = \"\";

  for(i=0;i<dynlen(selectedLangs);i++)
  {
    if(params[2] != \"\")
      params[2] += \",\";

    params[2] += selectedLangs[i+1];
  }
  ChildPanelOnCentralModalReturn(\"vision/trans/translator_langselect.pnl\",getCatStr(\"trans\",\"labels_select_langs\"),params,dreturnf, dreturns);

  if(dreturnf[1]==1)
  {
    dynClear(selectedLangs);
    for(i=0;i<dynlen(dreturns);i++)
    {
      selectedLangs[i+1] = dreturns[i+1];
    }
    txtDestLangs.text = i + getCatStr(\"trans\",\"labels_langs_selected\");
    cmdStart.enabled = ( dynlen(selectedLangs)!=0 );
  }
}
" 0
 E E E
14 3
"ProjVerz"
""
1 386 25 E E E 0 E 1 E N "_WindowText" E N "_Window" E E
 E E
4 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"minimumSize" "-1 24"
"maximumSize" "-1 24"
"layoutAlignment" "AlignTop"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  384 28 755 55
3 "0s" 0 0 0 0 0 -1  E "//Init
main()
{
  this.text(PROJ_PATH);
}
" 0
 E
13 56
"cmdLogFile"
""
1 677 524 E E E 1 E 0 E N "_ButtonText" E N "_Button" E E
 E E
33 0 0 0 0 0
E E E
0
4
LANG:10001 15 Select log file
LANG:10004 18 选择日志文件
LANG:10000 25 Protokolldatei auswählen
LANG:10027 27 Выбрать журнал

4
"minimumSize" "25 -1"
"maximumSize" "25 -1"
"sizePolicy" "Fixed Ignored"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  675 522 703 527

P 
13434828
"pictures/StandardIcons/Open_20.png"
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
"//Select LogFile
main()
{
  string LogFile = txtLogFile.text;

  fileSelector(LogFile, PROJ_PATH + \"log/\", false, \"*.log\");

  if ( LogFile != \"\" )
    txtLogFile.text = LogFile;
}
" 0
 E E E
13 146
"pb_editor"
""
1 716 498 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
38 0 0 0 0 0
E E E
0
4
LANG:10001 13 Edit log file
LANG:10004 18 编辑日志文件
LANG:10000 24 Protokolldatei editieren
LANG:10027 39 Редактировать журнал

4
"minimumSize" "25 25"
"maximumSize" "25 25"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 arial,-1,13,5,50,0,0,0,0,0
LANG:10004 26 arial,-1,13,5,50,0,0,0,0,0
LANG:10000 26 arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 arial,-1,13,5,50,0,0,0,0,0
0  715 497 743 525

P 
12632256
"pictures/StandardIcons/edit_20.png"
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
"main()
{
  openLogFile();
}
" 0
 E E E
13 151
"cmdDelLogName"
""
1 717 524 E E E 1 E 0 E N "_ButtonText" E N "_Button" E E
 E E
43 0 0 0 0 0
E E E
0
4
LANG:10001 20 Delete log file name
LANG:10004 18 删除日志文件
LANG:10000 32 Name der Protokolldatei löschen
LANG:10027 47 Удалить имя файла журнала

4
"minimumSize" "25 -1"
"maximumSize" "25 -1"
"sizePolicy" "Fixed Ignored"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  715 522 743 527

P 
13160660
"pictures/StandardIcons/delete_20.png"
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
"//Select LogFile
main()
{
  txtLogFile.text = \"\";
}
" 0
 E E E
13 152
"cmdDelLogFile"
""
1 677 499 E E E 1 E 1 E N "_ButtonText" E N "_Button" E E
 E E
43 0 0 0 0 0
E E E
0
4
LANG:10001 15 Delete log file
LANG:10004 18 删除日志文件
LANG:10000 23 Protokolldatei löschen
LANG:10027 27 Удалить журнал

4
"minimumSize" "25 25"
"maximumSize" "25 25"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  675 497 703 525

P 
13160660
"pictures/StandardIcons/delete_20.png"
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
"//Select LogFile
main()
{
  dyn_float  dreturnf;
  dyn_string params,dreturns;
  params[1] = getCatStr(\"trans\",\"question_delete_file\");
  params[2] = getCatStr(\"trans\",\"yes\");
  params[3] = getCatStr(\"trans\",\"no\");
  ChildPanelOnCentralModalReturn(\"vision/MessageInfo\",getCatStr(\"trans\",\"dictionary\"),
                                 params,dreturnf,dreturns);
  if ( dynlen(dreturnf) < 1 || !dreturnf[1] )
    return;
  if ( txtLogFile.text != \"\" &&
       access(txtLogFile.text, W_OK) == 0 )
  {
    int ret = remove(txtLogFile.text);
    if (ret != 0)
    {
      ChildPanelOnCentral(\"vision/MessageWarning\",
                          getCatStr(\"trans\", \"errLogsNotDel\"),
                          makeDynString(getCatStr(\"trans\",\"errLogsNotDeleted\")),
                          getCatStr(\"general\",\"OK\"));
    }
  }
}
" 0
 E E E
20 153
"chkMultiTrans"
""
1 472 413 E E E 1 E 1 E N "_3DText" E N "_3DFace" E E
 E E
44 0 0 0 0 0
E E E
0
4
LANG:10001 76 Allow different translations for the same reference word in different panels
LANG:10004 6 所有
LANG:10000 93 Erlaube für das gleiche Referenzwort in verschiedenen Panels unterschiedliche Übersetzungen
LANG:10027 138 Разрешить различающиеся переводы для одного и того же слова опорного языка

4
"minimumSize" "-1 21"
"maximumSize" "-1 21"
"sizePolicy" "Preferred Fixed"
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  470 411 740 435
1
T 
4
LANG:10001 28 Allow different translations
LANG:10004 27 允许出现不同的翻译
LANG:10000 40 Unterschiedliche Übersetzungen erlauben
LANG:10027 62 Разрешить различающиеся переводы

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
1
E E
EE32 154
"SPACER1"
""
1 702 499 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
45 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

5
"transparentForMouse" ""
"minimumSize" "15 -1"
"maximumSize" "15 -1"
"sizePolicy" "Fixed Ignored"
"layoutAlignment" "AlignNone"
 702 499 716 523 1
19 155
"logLevelRadioBox"
""
1 30 373 E E E 1 E 1 E N "_3DText" E N "_3DFace" E E
 E E
46 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

1
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  28 371 186 521
6
T 
4
LANG:10001 21 Only log fatal errors
LANG:10004 21 仅记录严重故障
LANG:10000 37 Nur schwerwiegende Fehler aufzeichnen
LANG:10027 44 Только фатальные ошибки

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 18 Log error messages
LANG:10004 18 记录错误信息
LANG:10000 18 Log error messages
LANG:10027 38 Сообщения об ошибках

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 12 Log warnings
LANG:10004 18 记录警告信息
LANG:10000 18 Log für Warnungen
LANG:10027 28 Предупреждения

1 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 25 Log progress (file level)
LANG:10004 27 记录过程（文件级）
LANG:10000 34 Log für Fortschritt (Datei-Level)
LANG:10027 44 Прогресс (уровень файла)

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 22 Log steps (word level)
LANG:10004 27 记录步骤（字段级）
LANG:10000 36 Log für Einzelschritte (Wort-Level)
LANG:10027 34 Шаг (уровень слова)

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
T 
4
LANG:10001 15 Verbose logging
LANG:10004 12 详细记录
LANG:10000 22 Ausführliches Logging
LANG:10027 25 Все сообщения

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
1
E E
32 156
"SPACER2"
""
1 702 524 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
47 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

5
"transparentForMouse" ""
"minimumSize" "15 -1"
"maximumSize" "15 -1"
"sizePolicy" "Fixed Ignored"
"layoutAlignment" "AlignNone"
 702 524 716 525 1
32 157
"SPACER3"
""
1 191 499 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
48 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 191 499 676 523 1
32 158
"SPACER4"
""
1 502 290 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
49 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 502 290 724 309 1
32 159
"SPACER5"
""
1 449 206 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
50 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 449 206 724 226 1
32 160
"SPACER6"
""
1 38 281 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
51 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Ignored Expanding"
"layoutAlignment" "AlignNone"
 38 281 364 318 2
32 161
"SPACER7"
""
1 89 197 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
52 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 89 197 364 217 1
32 162
"SPACER8"
""
1 191 524 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
53 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 191 524 676 525 1
32 165
"SPACER11"
""
1 9 543 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
56 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 9 543 468 566 1
32 167
"SPACER13"
""
1 170 9 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
58 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 170 9 376 29 1
32 168
"SPACER14"
""
1 517 9 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
59 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 517 9 753 29 1
32 169
"SPACER15"
""
1 517 88 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
60 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 517 88 741 107 1
32 170
"SPACER16"
""
1 141 88 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
61 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 141 88 378 107 1
32 171
"SPACER17"
""
1 278 447 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
62 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Expanding Ignored"
"layoutAlignment" "AlignNone"
 278 447 577 468 1
32 172
"SPACER18"
""
1 191 494 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
63 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Ignored Expanding"
"layoutAlignment" "AlignNone"
 191 494 741 495 2
32 178
"SPACER24"
""
1 9 573 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
69 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"transparentForMouse" ""
"sizePolicy" "Ignored Expanding"
"layoutAlignment" "AlignNone"
 9 573 753 574 2
20 179
"chkOpenLog"
""
1 578 447 E E E 1 E 1 E N "_3DText" E N "_3DFace" E E
 E E
70 0 0 0 0 0
E E E
0
4
LANG:10001 26 Open log file after export
LANG:10004 24 导出后打开log文件
LANG:10000 34 Protokolldatei nach Export öffnen
LANG:10027 55 Открыть журнал после экспорта

1
"layoutAlignment" "AlignNone"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  576 445 743 470
1
T 
4
LANG:10001 26 Open log file after export
LANG:10004 24 导出后打开log文件
LANG:10000 34 Protokolldatei nach Export öffnen
LANG:10027 55 Открыть журнал после экспорта

0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
E E
0 0 0 0 0
1
E E
EE22 180
"cmbFormat"
""
1 534 548.921052631579 E E E 1 E 1 E N "_WindowText" E N "_Window" E E
 E E
71 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

2
"minimumSize" "100 -1"
"layoutAlignment" "AlignVCenter"
4
LANG:10001 34 Arial,-1,13,5,50,0,0,0,0,0,Regular
LANG:10004 34 Arial,-1,13,5,50,0,0,0,0,0,Regular
LANG:10000 34 Arial,-1,13,5,50,0,0,0,0,0,Regular
LANG:10027 34 Arial,-1,13,5,50,0,0,0,0,0,Regular
0  532 542.5 635 567.5
3
4
LANG:10001 4 JSON
LANG:10004 4 JSON
LANG:10000 4 JSON
LANG:10027 4 JSON

0
4
LANG:10001 7 Unicode
LANG:10004 7 Unicode
LANG:10000 7 Unicode
LANG:10027 7 UNICODE

0
4
LANG:10001 5 UTF-8
LANG:10004 5 UTF-8
LANG:10000 5 UTF-8
LANG:10027 5 UTF-8

0

"main()
{
  this.selectedPos(OPT_UTF_8);
}
" 0

E
E
 1 0
13 182
"cmdStart"
""
1 644 543.5 E E E 0 E 1 E N "_ButtonText" E N "_Button" E E
 E E
73 0 0 0 0 0
E E E
0
4
LANG:10001 12 Start export
LANG:10004 6 开始
LANG:10000 14 Export starten
LANG:10027 27 Начать экспорт

4
"minimumSize" "111 24"
"maximumSize" "111 24"
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignTrailing|AlignVCenter"
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0  642 541.5 756 568.5

T 
4
LANG:10001 5 Start
LANG:10004 6 开始
LANG:10000 7 Starten
LANG:10027 12 Начало
"const int MODE_UPDATE = 0;
const int MODE_CREATE = 1;

bool b_ErrorInLogView = FALSE;

void main()
{
  string parseCommand = PVSS_PATH + \"bin/\" + getComponentName(PARSE_COMPONENT);
  string fileCommand;
  string fileName = \"dictionary\";
  string fileExtension = getFormatExtension();
  string fullFileName = fileName + fileExtension;
  bool nothingSelected = TRUE;

  if(!validNumberOfSelectedLanguages())
  {
    return;
  }

  backupDictionaries(fullFileName, fileName);

  if(getDictionaryExportMode() == MODE_UPDATE)
  {
    if(getUpdateCommand(parseCommand, fullFileName) == -1)
    {
      return;
    }
  }
  else //MODE_CREATE
  {
    if(createPrepare(fullFileName) == -1)
    {
      return;
    }
  }

  parseCommand += \" -dictOut \" + fullFileName;

  addLanguageOptions(parseCommand);

  addVersionFilesToCommand(fileCommand, parseCommand, nothingSelected);
  addProjectFilesToCommand(fileCommand, parseCommand, nothingSelected);
  addFileCommand(fileCommand, parseCommand, nothingSelected);

  addOverwriteAndMultiTransOptions(parseCommand);
  addLogCommand(parseCommand);

  startExport(parseCommand, nothingSelected);
  handleUnicode(fileName, fileExtension);
  handleErrorState();

  if ( chkOpenLog.state(0) && txtLogFile.text() != \"\" )
  {
    openLogFile();
  }
}

int getDictionaryExportMode()
{
  return optDictUpdate.number();
}

string getFormatExtension()
{
  switch(cmbFormat.selectedPos())
  {
    case OPT_JSON:
      return \".json\";
    case OPT_UNICODE: //unicode also creates the UTF_8 version
    case OPT_UTF_8: //default case is the same as OPT_UTF_8
    default:
      return \".txt\";
  }
}

bool validNumberOfSelectedLanguages()
{
  if(dynlen(selectedLangs) < 1)
  {
    ChildPanelOnCentralModal(\"vision/MessageWarning\", \"Export\",
                              makeDynString(getCatStr(\"trans\", \"warning_no_langs_selected\")));
    return FALSE;
  }

  return TRUE;
}

void backupDictionaries(string fullFileName, string fileName)
{
  if ( access(PROJ_PATH + \"data/trans/\" + fullFileName,W_OK) == 0 )
  {
    copyFile(PROJ_PATH + \"data/trans/\" + fullFileName,
            PROJ_PATH + \"data/trans/\" + fileName + \".bak\");
  }
  if ( access(PROJ_PATH+ \"dplist/dptexts.txt\",W_OK) == 0 )
  {
    copyFile(PROJ_PATH+ \"dplist/dptexts.txt\",
            PROJ_PATH+ \"dplist/dptexts.bak\");
  }
}

void clearDictionary(string fullFileName)
{
  file f = fopen(PROJ_PATH + \"data/trans/\" + fullFileName, \"w\");
  fclose(f);
}

int getUpdateCommand(string &parseCommand, string fullFileName)
{
  if ( access(PROJ_PATH + \"data/trans/\" + fullFileName, W_OK) != 0 )
  {
    clearDictionary(fullFileName);
  }
  parseCommand += \" -dictIN \" + fullFileName;

  if ( chkOverwrite.state(0) )
  {
    dyn_string dreturns;
    dyn_float dreturnf;
    dyn_string params = makeDynString(getCatStr(\"trans\",\"warning_overwrite\"),
                                      getCatStr(\"trans\",\"yes\"),
                                      getCatStr(\"trans\",\"no\"));

    ChildPanelOnCentralModalReturn(\"vision/MessageInfo\",getCatStr(\"trans\",\"dictionary\"),
                                    params, dreturnf, dreturns);
    if ( !dreturnf[1] )
    {
      return -1;
    }
  }
  return 0;
}

int createPrepare(string fullFileName)
{
  if ( access(PROJ_PATH + \"data/trans/\" + fullFileName, W_OK) == 0 )
  {
    dyn_string dreturns;
    dyn_float dreturnf;
    dyn_string params = makeDynString(getCatStr(\"trans\", \"warning_use_dict\"),
                                      getCatStr(\"trans\",\"yes\"),
                                      getCatStr(\"trans\",\"no\"));

    ChildPanelOnCentralModalReturn(\"vision/MessageInfo\",getCatStr(\"trans\",\"dictionary\"),
                                    params,dreturnf,dreturns);
    if ( !dreturnf[1] )
      return -1;
  }

  clearDictionary(fullFileName);
  return 0;
}

void addLanguageOptions(string &parseCommand)
{
  parseCommand += \" -langid \";

  string referenceLanguage = cmbRefLang.text();

  string langCommand = getLangID(referenceLanguage);

  for(int i = 1; i <= dynlen(selectedLangs); i++)
  {
    if(selectedLangs[i] != referenceLanguage)
    {
      langCommand += \",\" + getLangID(selectedLangs[i]);
    }
  }

  parseCommand += langCommand;
}

void addVersionFilesToCommand(string &fileCommand, string &parseCommand, bool &nothingSelected)
{
  if(!versionAllSelected(parseCommand, nothingSelected))
  {
    addVersionFiles(fileCommand, parseCommand, nothingSelected);
  }
}

bool versionAllSelected(string &parseCommand, bool &nothingSelected)
{
  if(chkVersionAll.state(0))
  {
    parseCommand += \" -vA\";
    nothingSelected = FALSE;
    return TRUE;
  }
  return FALSE;
}

void addVersionFiles(string &fileCommand, string &parseCommand, bool &nothingSelected)
{
  if(!allTypesSelected(parseCommand, nothingSelected, \"txtVersionPanels\",
                        \"-vP\", \"labels_all_panels\"))
  {
    addFilesToFileCommand(fileCommand, nothingSelected, versionPanels);
  }
  if(!allTypesSelected(parseCommand, nothingSelected, \"txtVersionCatalogs\",
                        \"-vC\", \"labels_all_catalogs\"))
  {
    addFilesToFileCommand(fileCommand, nothingSelected, versionCatalogs);
  }
}

void addProjectFilesToCommand(string &fileCommand, string &parseCommand, bool &nothingSelected)
{
  if(!projectAllSelected(parseCommand, nothingSelected))
  {
    addProjectFiles(fileCommand, parseCommand, nothingSelected);
  }
}

bool projectAllSelected(string &parseCommand, bool &nothingSelected)
{
  if(chkVersionAll.state(0))
  {
    parseCommand += \" -pA\";
    nothingSelected = FALSE;
    createDpList();
    return TRUE;
  }
  return FALSE;
}

void addProjectFiles(string &fileCommand, string &parseCommand, bool &nothingSelected)
{
  if(!allTypesSelected(parseCommand, nothingSelected, \"txtProjectPanels\",
                        \"-pP\", \"labels_all_panels\"))
  {
    addFilesToFileCommand(fileCommand, nothingSelected, projectPanels);
  }
  if(!allTypesSelected(parseCommand, nothingSelected, \"txtProjectCatalogs\",
                        \"-pC\", \"labels_all_catalogs\"))
  {
    addFilesToFileCommand(fileCommand, nothingSelected, projectCatalogs);
  }

  if(chkProjectAllDPs.state(0))
  {
    parseCommand += \" -pD\";
    createDpList();
    nothingSelected = FALSE;
  }
}

void createDpList()
{
  openProgressBar(\"Export\", \"export.gif\", getCatStr(\"trans\", \"progress_exporting\"), \"\", \"\", 1);
  string s_Command = PVSS_PATH + \"bin/\" + getComponentName(ASCII_COMPONENT) + \" -outputVersion 2 -filter AP:_alert_hdl -out \" +  PROJ_PATH + \"dplist/dptexts.txt\";
  callCommand(s_Command);
}

bool allTypesSelected(string &parseCommand, bool &nothingSelected, string object, string command, string key)
{
  string txt;
  getValue(object, \"text\", txt);
  if(txt == getCatStr(\"trans\", key))
  {
    parseCommand += \" \" + command;
    nothingSelected = FALSE;
    return TRUE;
  }
  return FALSE;
}

void addFilesToFileCommand(string &fileCommand, bool &nothingSelected, dyn_string fileArray)
{
  for(int i = 1; i <= dynlen(fileArray); i++)
  {
    if(fileCommand != \"\")
    {
      fileCommand += \",\";
      nothingSelected = FALSE;
    }
    fileCommand += fileArray[i];
  }
}

void addFileCommand(string &fileCommand, string &parseCommand, bool &nothingSelected)
{
  if(fileCommand != \"\")
  {
    parseCommand += \" -files \";
    parseCommand += fileCommand;
    nothingSelected = FALSE;
  }
}

void addOverwriteAndMultiTransOptions(string &parseCommand)
{
  if(chkOverwrite.state(0))
  {
    parseCommand += \" -overwrite\";
  }
  if(chkMultiTrans.state(0))
  {
    parseCommand += \" -multitrans\";
  }
}

void addLogCommand(string &parseCommand)
{
  addLogLevel(parseCommand);
  addLogFile(parseCommand);
}

void addLogLevel(string &parseCommand)
{
  switch(logLevelRadioBox.number())
  {
    case 0:
      parseCommand += \" -logF -log +stderr\";
      break;
    case 1:
      parseCommand += \" -logE -log +stderr\";
      break;
    case 2:
      parseCommand += \" -logW -log +stderr\";
      break;
    case 3:
      parseCommand += \" -logP -log +stderr\";
      break;
    case 4:
      parseCommand += \" -logS -log +stderr\";
      break;
    case 5:
      parseCommand += \" -logV -log +stderr\";
      break;
  }
}

void addLogFile(string &parseCommand)
{
  if(txtLogFile.text != \"\")
  {
    remove(txtLogFile.text());
    parseCommand += \" 2> \";
    parseCommand += txtLogFile.text();
  }
}

void startExport(string parseCommand, bool nothingSelected)
{
  if(nothingSelected)
  {
    ChildPanelOnCentralModal(\"vision/MessageWarning\", \"Export\",
                              makeDynString(getCatStr(\"trans\", \"warning_nothing_selected_export\")));
  }
  else
  {
    if ( !isProgressBarOpen() )
    {
      openProgressBar(\"Export\", \"export.gif\",
                      getCatStr(\"trans\",\"progress_exporting\"), \"\", \"\", 1);
    }

    callCommand(parseCommand);
    gRefreshDictionary = TRUE;
    optDictUpdate.enabled(TRUE);
    closeProgressBar();
    delay(0,100);
  }
}

void callCommand(string command)
{
  int i_SysResult = system(command);
  if (i_SysResult != 0)
  {
    DebugN(\"Function system() returned error code :: \" + i_SysResult + \" for command ::\" + command);
    b_ErrorInLogView = TRUE;
  }
}

void handleUnicode(string fileName, string fileExtension)
{
  string unicodeFileName = fileName + \"_unicode\" + fileExtension;
  if(cmbFormat.selectedPos() == OPT_UNICODE)
  {
     convertDictMBtoWC(PROJ_PATH + \"data/trans/\" + fileName + fileExtension,
                        PROJ_PATH + \"data/trans/\" + unicodeFileName);

  }
}

void handleErrorState()
{
  string key;
  dyn_string dreturns;
  dyn_float dreturnf;
  if (b_ErrorInLogView)
  {
    ChildPanelOnCentralModal(\"vision/MessageWarning\", \"Export\",
                              makeDynString(getCatStr(\"trans\",\"return_conflicts\")));
  }
  else
  {
    if( optDictUpdate.number()!=0 )
    {
      key = \"return_dictionary_created\";
    }
    else
    {
      key = \"return_dictionary_refreshed\";
    }
    ChildPanelOnCentralModalReturn(\"vision/MessageInfo1\",
                                    getCatStr(\"para\",\"information\"),
                                    makeDynString(getCatStr(\"trans\", key)),
                                    dreturnf, dreturns);
  }
}
" 0
 E E E
2 183
"lblFormat"
""
1 174.5 117 E E E 1 E 1 E N {0,0,0} E N "_Transparent" E E
 E E
74 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

4
"sizePolicy" "Fixed Fixed"
"layoutAlignment" "AlignVCenter"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 0 1 E 0.989247311827957 0 1 303.3978494623656 428.5 0 E 176.5 119 223 134
0 0 0 "0s" 0 0 0 192 0 0  176.5 119 1
4
LANG:10001 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10004 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10000 26 Arial,-1,13,5,40,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,40,0,0,0,0,0
0 4
LANG:10001 7 Format:
LANG:10004 9 格式：
LANG:10000 7 Format:
LANG:10027 13 Формат:
0
LAYER, 1 
4
LANG:10001 6 Layer2
LANG:10004 6 Layer2
LANG:10000 6 Layer2
LANG:10027 6 Layer2
0
LAYER, 2 
4
LANG:10001 6 Layer3
LANG:10004 6 Layer3
LANG:10000 6 Layer3
LANG:10027 6 Layer3
0
LAYER, 3 
4
LANG:10001 6 Layer4
LANG:10004 6 Layer4
LANG:10000 6 Layer4
LANG:10027 6 Layer4
0
LAYER, 4 
4
LANG:10001 6 Layer5
LANG:10004 6 Layer5
LANG:10000 6 Layer5
LANG:10027 6 Layer5
0
LAYER, 5 
4
LANG:10001 6 Layer6
LANG:10004 6 Layer6
LANG:10000 6 Layer6
LANG:10027 6 Layer6
0
LAYER, 6 
4
LANG:10001 6 Layer7
LANG:10004 6 Layer7
LANG:10000 6 Layer7
LANG:10027 6 Layer7
0
LAYER, 7 
4
LANG:10001 6 Layer8
LANG:10004 6 Layer8
LANG:10000 6 Layer8
LANG:10027 6 Layer8
0
4 3 "LAYOUT_GROUP3" 49
4 0 
157 152 154 146 

"S 157" "0 0 1 1"
"S 152" "1 0 1 1"
"S 154" "2 0 1 1"
"S 146" "3 0 1 1"
"" ""
0 1 1 0 0 4 0 1 0
4 4 "LAYOUT_GROUP4" 8
2 0 
117 21 

"S 117" "0 0 1 1"
"S 21" "1 0 1 1"
"" ""
0 1 0 1 9
4 5 "LAYOUT_GROUP5" 8
2 0 
118 22 

"S 118" "0 0 1 1"
"S 22" "1 0 1 1"
"" ""
0 1 0 1 9
4 6 "LAYOUT_GROUP6" 8
2 0 
94 158 

"S 94" "0 0 1 1"
"S 158" "1 0 1 1"
"" ""
0 1 0 0
4 7 "LAYOUT_GROUP7" 8
2 0 
91 159 

"S 91" "0 0 1 1"
"S 159" "1 0 1 1"
"" ""
0 1 0 1 0
4 8 "LAYOUT_GROUP8" 14
0 4 

7 4 5 6 
"G 7" "0 0 1 1"
"G 4" "1 0 1 1"
"G 5" "2 0 1 1"
"G 6" "3 0 1 1"
"" ""
0 2 0 1 5
4 9 "LAYOUT_GROUP9" 12
2 0 
127 138 

"S 127" "0 0 1 1"
"S 138" "1 0 1 1"
"" ""
0 1 0 1 9
4 10 "LAYOUT_GROUP10" 12
2 0 
128 126 

"S 128" "0 0 1 1"
"S 126" "1 0 1 1"
"" ""
0 1 0 1 9
4 11 "LAYOUT_GROUP11" 12
2 0 
124 161 

"S 124" "0 0 1 1"
"S 161" "1 0 1 1"
"" ""
0 1 0 1 0
4 12 "LAYOUT_GROUP12" 13
1 3 
160 
11 9 10 
"S 160" "3 0 1 1"
"G 11" "0 0 1 1"
"G 9" "1 0 1 1"
"G 10" "2 0 1 1"
"" ""
0 2 1 9 9 0 0 1 5
4 13 "LAYOUT_GROUP13" 15
1 1 
4 
12 
"G 12" "0 0 1 1"
"" ""
1 2 1 0 0 0 0 0
4 14 "LAYOUT_GROUP14" 15
1 1 
18 
8 
"G 8" "0 0 1 1"
"" ""
1 2 1 9 9 9 9 1 6
4 15 "LAYOUT_GROUP15" 16
0 2 

13 14 
"G 13" "0 0 1 1"
"G 14" "1 0 1 1"
"" ""
0 1 1 5 5 0 0 1 9
4 16 "LAYOUT_GROUP16" 52
1 1 
35 
15 
"G 15" "0 0 1 1"
"" ""
1 1 1 9 9 9 9 1 6
4 20 "LAYOUT_GROUP20" 45
2 0 
142 54 

"S 142" "0 0 1 1"
"S 54" "1 0 1 1"
"" ""
0 1 0 0
4 25 "LAYOUT_GROUP25" 26
2 0 
140 153 

"S 140" "0 0 1 1"
"S 153" "1 0 1 1"
"" ""
0 2 0 1 0
4 26 "LAYOUT_GROUP26" 27
1 1 
137 
25 
"S 137" "0 0 1 1"
"G 25" "1 0 1 1"
"" ""
0 1 1 5 0 5 5 1 5
4 27 "LAYOUT_GROUP27" 49
1 1 
132 
26 
"G 26" "0 0 1 1"
"" ""
1 1 1 0 0 0 0 1 0
4 28 "LAYOUT_GROUP28" 49
4 0 
56 151 156 162 

"S 56" "1 0 1 1"
"S 151" "3 0 1 1"
"S 156" "2 0 1 1"
"S 162" "0 0 1 1"
"" ""
0 1 0 1 0
4 34 "LAYOUT_GROUP34" 52
4 0 
165 180 182 183 

"S 165" "0 0 1 1"
"S 180" "2 0 1 1"
"S 182" "3 0 1 1"
"S 183" "1 0 1 1"
"" ""
0 1 0 1 9
4 35 "LAYOUT_GROUP35" 50
1 0 
155 

"S 155" "0 0 1 1"
"" ""
0 2 1 9 0 5 5 1 0
4 37 "LAYOUT_GROUP37" 40
2 0 
0 167 

"S 0" "0 0 1 1"
"S 167" "1 0 1 1"
"" ""
0 1 0 1 0
4 38 "LAYOUT_GROUP38" 39
2 0 
1 168 

"S 1" "0 0 1 1"
"S 168" "1 0 1 1"
"" ""
0 1 0 1 0
4 39 "LAYOUT_GROUP39" 41
1 1 
3 
38 
"S 3" "1 0 1 1"
"G 38" "0 0 1 1"
"" ""
0 2 0 1 0
4 40 "LAYOUT_GROUP40" 41
1 1 
2 
37 
"S 2" "1 0 1 1"
"G 37" "0 0 1 1"
"" ""
0 2 0 1 0
4 41 "LAYOUT_GROUP41" 52
0 2 

40 39 
"G 40" "0 0 1 1"
"G 39" "1 0 1 1"
"" ""
0 1 0 1 9
4 42 "LAYOUT_GROUP42" 45
2 0 
130 169 

"S 130" "0 0 1 1"
"S 169" "1 0 1 1"
"" ""
0 1 0 1 0
4 43 "LAYOUT_GROUP43" 44
2 0 
32 170 

"S 32" "0 0 1 1"
"S 170" "1 0 1 1"
"" ""
0 1 0 1 0
4 44 "LAYOUT_GROUP44" 51
1 1 
46 
43 
"S 46" "1 0 1 1"
"G 43" "0 0 1 1"
"" ""
0 2 0 1 0
4 45 "LAYOUT_GROUP45" 51
0 2 

42 20 
"G 42" "0 0 1 1"
"G 20" "1 0 1 1"
"" ""
0 2 0 1 0
4 47 "LAYOUT_GROUP47" 48
3 0 
36 171 179 

"S 36" "0 0 1 1"
"S 171" "1 0 1 1"
"S 179" "2 0 1 1"
"" ""
0 1 1 0 0 5 3 1 0
4 48 "LAYOUT_GROUP48" 49
2 1 
37 172 
47 
"S 37" "1 0 1 1"
"S 172" "2 0 1 1"
"G 47" "0 0 1 1"
"" ""
0 2 0 1 0
4 49 "LAYOUT_GROUP49" 50
0 4 

48 3 27 28 
"G 48" "1 0 1 1"
"G 3" "2 0 1 1"
"G 27" "0 0 1 1"
"G 28" "3 0 1 1"
"" ""
0 2 0 1 0
4 50 "LAYOUT_GROUP50" 52
1 2 
43 
35 49 
"G 35" "0 0 1 1"
"G 49" "1 0 1 1"
"" ""
1 1 1 9 9 9 9 0
4 51 "LAYOUT_GROUP51" 52
1 2 
131 
44 45 
"G 44" "0 0 1 1"
"G 45" "1 0 1 1"
"" ""
1 1 1 9 9 9 9 0
4 52 "LAYOUT_GROUP52" -1
1 5 
178 
16 34 41 50 51 
"S 178" "5 0 1 1"
"G 16" "5 0 1 1"
"G 34" "4 0 1 1"
"G 41" "0 0 1 1"
"G 50" "7 0 1 1"
"G 51" "3 0 1 1"
"" ""
0 2 1 0 0 0 0 0
0
